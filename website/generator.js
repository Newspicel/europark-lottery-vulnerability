
function createUser() {
    var headers = {
        'Content-Type': 'application/json',
        'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJkYXRhIjp7InVzZXJJZCI6IjZlYTFlMmE3LWI2MGMtNGNhNS1hOTk3LTZiYTU1MTgzNDI0YSJ9LCJleHAiOjE2NDA5MjQ0NzEsImlhdCI6MTY0MDg5NTY3MX0.oBviZhKq16GrekCnemMPNJBvKF_oCoDbIj3JSGkc__E'
    }

    var data = '{"password":"default"}'
    var response = fetch('https://sdapp.europapark.de/users/create', {
        method: 'POST',
        headers: headers,
        body: data,
        mode: 'no-cors'
    })
    return response
}

function playLottery(token) {
    var headers = {
        'Content-Type': 'application/json',
        'Authorization': 'Bearer ' + token
    }

    var response = fetch('https://sdapp.europapark.de/lottery', {
        method: 'POST',
        headers: headers,
        mode: 'no-cors'
    })
    return response
}

result = playLottery(createUser().token)
while(result.status == 'won') {
    result = playLottery(createUser().token)
}

new QRCode(document.getElementById("qrcode"), result.prizeId);